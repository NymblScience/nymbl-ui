"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _vueTemplateCompiler = require("vue-template-compiler");

var _vueInbrowserCompilerUtils = require("vue-inbrowser-compiler-utils");

var _default = (code, jsxInExamples) => {
  // if in JSX mode or litteral return examples code as is
  if (jsxInExamples || /new Vue\(/.test(code)) {
    return code;
  } // script is at the beginning of a line after a return
  // In case we are loading a vue component as an example, extract script tag


  if ((0, _vueInbrowserCompilerUtils.isCodeVueSfc)(code)) {
    const parts = (0, _vueTemplateCompiler.parseComponent)(code);
    return parts && parts.script ? parts.script.content : '';
  }

  if (/\n\W+?export\W+default\W/.test(code) || /\n\W+?module.exports(\W+)?=/.test(code)) {
    return code;
  } //else it could be the weird almost jsx of vue-styleguidist


  return code.split(/\n[\t ]*</)[0];
};

exports.default = _default;