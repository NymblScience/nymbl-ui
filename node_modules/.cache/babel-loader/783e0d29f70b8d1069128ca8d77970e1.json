{"remainingRequest":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/thread-loader/dist/cjs.js!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/runner/work/nymbl-ui/nymbl-ui/src/components/NDatepicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/runner/work/nymbl-ui/nymbl-ui/src/components/NDatepicker.vue","mtime":1585661990411},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport NCalendar from \"./NCalendar.vue\";\nimport NPopover from \"./NPopover.vue\";\nimport NTextbox from \"./NTextbox.vue\";\nimport dateUtils from \"../helpers/date\";\nexport default {\n  name: \"NDatepicker\",\n  components: {\n    NCalendar: NCalendar,\n    NTextbox: NTextbox,\n    NPopover: NPopover\n  },\n  props: {\n    name: String,\n    value: [Date, String],\n    tabindex: [String, Number],\n    startOfWeek: {\n      type: Number,\n      default: 0\n    },\n    minDate: Date,\n    maxDate: Date,\n    yearRange: Array,\n    lang: {\n      type: Object,\n      default: function _default() {\n        return dateUtils.defaultLang;\n      }\n    },\n    customFormatter: Function,\n    dateFilter: Function,\n    color: {\n      type: String,\n      default: \"primary\" // 'primary' or 'accent'\n\n    },\n    orientation: {\n      type: String,\n      default: \"portrait\" // 'portrait' or 'landscape'\n\n    },\n    pickerType: {\n      type: String,\n      default: \"popover\" // 'popover' or 'modal'\n\n    },\n    okButtonText: {\n      type: String,\n      default: \"OK\"\n    },\n    cancelButtonText: {\n      type: String,\n      default: \"Cancel\"\n    },\n    placeholder: String,\n    defaultDate: Date,\n    icon: String,\n    iconPosition: {\n      type: String,\n      default: \"left\" // 'left' or 'right'\n\n    },\n    label: String,\n    floatingLabel: {\n      type: Boolean,\n      default: false\n    },\n    invalid: {\n      type: Boolean,\n      default: false\n    },\n    help: String,\n    error: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    clearable: {\n      type: Boolean,\n      default: false\n    },\n    textInput: {\n      type: Boolean,\n      default: true\n    },\n    hasYear: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      isActive: false,\n      isTouched: false,\n      isTextBox: false,\n      valueAtModalOpen: null,\n      initialValue: JSON.stringify(this.value),\n      inputDate: dateUtils.humanize(this.value)\n    };\n  },\n  computed: {\n    date: function date() {\n      return typeof this.value === \"string\" ? new Date(this.value) : this.value;\n    },\n    classes: function classes() {\n      return [\"n-datepicker--icon-position-\".concat(this.iconPosition), \"n-datepicker--orientation-\".concat(this.orientation), {\n        \"is-active\": this.isActive\n      }, {\n        \"is-invalid\": this.invalid\n      }, {\n        \"is-touched\": this.isTouched\n      }, {\n        \"is-disabled\": this.disabled\n      }, {\n        \"has-label\": this.hasLabel\n      }, {\n        \"has-floating-label\": this.hasFloatingLabel\n      }];\n    },\n    labelClasses: function labelClasses() {\n      return {\n        \"is-inline\": this.hasFloatingLabel && this.isLabelInline,\n        \"is-floating\": this.hasFloatingLabel && !this.isLabelInline\n      };\n    },\n    hasLabel: function hasLabel() {\n      return Boolean(this.label) || Boolean(this.$slots.default);\n    },\n    hasFloatingLabel: function hasFloatingLabel() {\n      return this.hasLabel && this.floatingLabel;\n    },\n    isLabelInline: function isLabelInline() {\n      return !this.date && !this.isActive;\n    },\n    hasFeedback: function hasFeedback() {\n      return this.showError || this.showHelp;\n    },\n    showError: function showError() {\n      return this.invalid && (Boolean(this.error) || Boolean(this.$slots.error));\n    },\n    showHelp: function showHelp() {\n      return Boolean(this.help) || Boolean(this.$slots.help);\n    },\n    displayText: function displayText() {\n      if (!this.date) {\n        return \"\";\n      }\n\n      return this.customFormatter ? this.customFormatter(this.date, this.lang) : dateUtils.humanize(this.date, this.lang);\n    },\n    hasDisplayText: function hasDisplayText() {\n      return Boolean(this.displayText.length);\n    },\n    usesPopover: function usesPopover() {\n      return this.pickerType === \"popover\";\n    },\n    usesModal: function usesModal() {\n      return this.pickerType === \"modal\";\n    }\n  },\n  watch: {\n    value: function value() {\n      this.$emit(\"input\", this.date);\n    }\n  },\n  mounted: function mounted() {\n    document.addEventListener(\"click\", this.onExternalClick);\n  },\n  beforeDestroy: function beforeDestroy() {\n    document.removeEventListener(\"click\", this.onExternalClick);\n  },\n  methods: {\n    focusTextBox: function focusTextBox() {\n      return;\n    },\n    isPickerOpen: function isPickerOpen() {\n      return this.usesModal ? this.$refs.modal.isOpen : this.$refs.popover.isOpen();\n    },\n    onDateSelect: function onDateSelect(date) {\n      this.$emit(\"input\", date);\n      this.inputDate = dateUtils.humanize(date);\n      this.$emit(\"change\", date);\n      this.closePicker();\n    },\n    onUpdateInput: function onUpdateInput() {\n      if (this.inputDate === \"\") {\n        this.$emit(\"input\", null);\n        return;\n      }\n\n      var date = new Date(this.inputDate);\n      if (date) if (!isNaN(date.getTime())) {\n        this.$emit(\"input\", date);\n      }\n    },\n    togglePicker: function togglePicker() {\n      if (this.isPickerOpen()) {\n        this.closePicker();\n      } else {\n        this.openPicker();\n      }\n    },\n    openPicker: function openPicker() {\n      if (this.disabled) {\n        return;\n      }\n\n      this.$refs[\"popover\"].open();\n    },\n    closePicker: function closePicker() {\n      if (this.usesPopover) {\n        this.$refs.popover.close();\n      }\n    },\n    onClick: function onClick(event) {\n      console.log(event);\n      var clearable = document.getElementsByClassName(\"n-textbox__clearable\");\n\n      if (event.composedPath().includes(clearable[0])) {\n        console.log(\"clearble\");\n        this.closePicker();\n        return;\n      }\n\n      this.togglePicker();\n    },\n    onFocus: function onFocus(e) {\n      // if (this.usesPopover && !this.$refs.popover.isOpen()) {\n      //   return;\n      // }\n      this.isActive = true;\n      this.$emit(\"focus\", e);\n\n      if (this.isPickerOpen()) {\n        this.closePicker({\n          returnFocus: false\n        });\n      }\n    },\n    onBlur: function onBlur(e) {\n      this.isActive = false;\n      this.$emit(\"blur\", e);\n\n      if (this.usesPopover && this.$refs.popover.isOpen()) {\n        this.closePicker({\n          autoBlur: true\n        });\n      }\n    },\n    onPickerOpen: function onPickerOpen() {\n      if (!this.value && this.defaultDate) {\n        this.$emit(\"input\", this.defaultDate);\n      }\n\n      this.isActive = true;\n      this.$emit(\"open\");\n    },\n    onPickerClose: function onPickerClose() {\n      this.$emit(\"close\");\n      this.$emit(\"close\");\n\n      if (!this.isTouched) {\n        this.isTouched = true;\n        this.$emit(\"touch\");\n      }\n    },\n    onPickerCancel: function onPickerCancel() {\n      this.$emit(\"input\", this.valueAtModalOpen);\n      this.$refs.modal.close();\n    },\n    onExternalClick: function onExternalClick(e) {\n      if (this.disabled) {\n        return;\n      }\n\n      var clickWasInternal = this.$el.contains(e.target) || this.$refs[this.usesPopover ? \"popover\" : \"modal\"].$el.contains(e.target);\n\n      if (clickWasInternal) {\n        return;\n      }\n\n      this.isActive = false;\n    },\n    clear: function clear() {\n      var _this = this;\n\n      this.$emit(\"input\", null);\n      this.inputDate = null;\n      this.$emit(\"change\", null);\n      this.$emit(\"clear\");\n      setTimeout(function () {\n        _this.closePicker({\n          autoBlur: true\n        });\n      }, 0);\n    },\n    reset: function reset() {\n      this.$emit(\"input\", JSON.parse(this.initialValue));\n    },\n    resetTouched: function resetTouched() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        touched: false\n      };\n      this.isTouched = options.touched;\n    }\n  }\n};",{"version":3,"sources":["NDatepicker.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div tabindex=\"-1\" class=\"n-datepicker\" :class=\"classes\">\n    <div class=\"n-datepicker__content\">\n      <div\n        class=\"n-datepicker__display-value\"\n        :class=\"{ 'is-placeholder': !hasDisplayText }\"\n        @click=\"onClick($event)\"\n      >\n        <n-textbox\n          ref=\"textbox\"\n          v-model=\"inputDate\"\n          :label=\"label\"\n          :help=\"help\"\n          :disabled=\"disabled\"\n          :invalid=\"invalid\"\n          :error=\"error\"\n          :name=\"name\"\n          autocomplete=\"off\"\n          :placeholder=\"placeholder\"\n          :readonly=\"!textInput\"\n          :clearable=\"clearable\"\n          @focus=\"onFocus\"\n          @clear=\"clear\"\n          @keydown.tab=\"onBlur\"\n          @input=\"onUpdateInput\"\n        >\n        </n-textbox>\n      </div>\n\n      <div class=\"\">\n        <n-popover\n          v-if=\"usesPopover\"\n          v-show=\"!disabled\"\n          ref=\"popover\"\n          tabindex=\"-1\"\n          :append-to-body=\"true\"\n          open-on=\"manual\"\n          :close-on-scroll=\"false\"\n          @close=\"onPickerClose\"\n          @open=\"onPickerOpen\"\n        >\n          <n-calendar\n            :color=\"color\"\n            :date-filter=\"dateFilter\"\n            :lang=\"lang\"\n            :has-year=\"hasYear\"\n            :max-date=\"maxDate\"\n            :min-date=\"minDate\"\n            :orientation=\"orientation\"\n            :value=\"date\"\n            :start-of-week=\"startOfWeek\"\n            @date-select=\"onDateSelect\"\n          ></n-calendar>\n        </n-popover>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NCalendar from \"./NCalendar.vue\";\nimport NPopover from \"./NPopover.vue\";\nimport NTextbox from \"./NTextbox.vue\";\nimport dateUtils from \"../helpers/date\";\n\nexport default {\n  name: \"NDatepicker\",\n  components: {\n    NCalendar,\n    NTextbox,\n    NPopover\n  },\n\n  props: {\n    name: String,\n    value: [Date, String],\n    tabindex: [String, Number],\n    startOfWeek: {\n      type: Number,\n      default: 0\n    },\n    minDate: Date,\n    maxDate: Date,\n    yearRange: Array,\n    lang: {\n      type: Object,\n      default() {\n        return dateUtils.defaultLang;\n      }\n    },\n    customFormatter: Function,\n    dateFilter: Function,\n    color: {\n      type: String,\n      default: \"primary\" // 'primary' or 'accent'\n    },\n    orientation: {\n      type: String,\n      default: \"portrait\" // 'portrait' or 'landscape'\n    },\n    pickerType: {\n      type: String,\n      default: \"popover\" // 'popover' or 'modal'\n    },\n    okButtonText: {\n      type: String,\n      default: \"OK\"\n    },\n    cancelButtonText: {\n      type: String,\n      default: \"Cancel\"\n    },\n    placeholder: String,\n    defaultDate: Date,\n    icon: String,\n    iconPosition: {\n      type: String,\n      default: \"left\" // 'left' or 'right'\n    },\n    label: String,\n    floatingLabel: {\n      type: Boolean,\n      default: false\n    },\n    invalid: {\n      type: Boolean,\n      default: false\n    },\n    help: String,\n    error: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    clearable: {\n      type: Boolean,\n      default: false\n    },\n    textInput: {\n      type: Boolean,\n      default: true\n    },\n    hasYear: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      isActive: false,\n      isTouched: false,\n      isTextBox: false,\n      valueAtModalOpen: null,\n      initialValue: JSON.stringify(this.value),\n      inputDate: dateUtils.humanize(this.value)\n    };\n  },\n\n  computed: {\n    date() {\n      return typeof this.value === \"string\" ? new Date(this.value) : this.value;\n    },\n\n    classes() {\n      return [\n        `n-datepicker--icon-position-${this.iconPosition}`,\n        `n-datepicker--orientation-${this.orientation}`,\n        { \"is-active\": this.isActive },\n        { \"is-invalid\": this.invalid },\n        { \"is-touched\": this.isTouched },\n        { \"is-disabled\": this.disabled },\n        { \"has-label\": this.hasLabel },\n        { \"has-floating-label\": this.hasFloatingLabel }\n      ];\n    },\n\n    labelClasses() {\n      return {\n        \"is-inline\": this.hasFloatingLabel && this.isLabelInline,\n        \"is-floating\": this.hasFloatingLabel && !this.isLabelInline\n      };\n    },\n\n    hasLabel() {\n      return Boolean(this.label) || Boolean(this.$slots.default);\n    },\n\n    hasFloatingLabel() {\n      return this.hasLabel && this.floatingLabel;\n    },\n\n    isLabelInline() {\n      return !this.date && !this.isActive;\n    },\n\n    hasFeedback() {\n      return this.showError || this.showHelp;\n    },\n\n    showError() {\n      return (\n        this.invalid && (Boolean(this.error) || Boolean(this.$slots.error))\n      );\n    },\n\n    showHelp() {\n      return Boolean(this.help) || Boolean(this.$slots.help);\n    },\n\n    displayText() {\n      if (!this.date) {\n        return \"\";\n      }\n\n      return this.customFormatter\n        ? this.customFormatter(this.date, this.lang)\n        : dateUtils.humanize(this.date, this.lang);\n    },\n\n    hasDisplayText() {\n      return Boolean(this.displayText.length);\n    },\n\n    usesPopover() {\n      return this.pickerType === \"popover\";\n    },\n\n    usesModal() {\n      return this.pickerType === \"modal\";\n    }\n  },\n  watch: {\n    value() {\n      this.$emit(\"input\", this.date);\n    }\n  },\n\n  mounted() {\n    document.addEventListener(\"click\", this.onExternalClick);\n  },\n\n  beforeDestroy() {\n    document.removeEventListener(\"click\", this.onExternalClick);\n  },\n\n  methods: {\n    focusTextBox() {\n      return;\n    },\n    isPickerOpen() {\n      return this.usesModal\n        ? this.$refs.modal.isOpen\n        : this.$refs.popover.isOpen();\n    },\n    onDateSelect(date) {\n      this.$emit(\"input\", date);\n      this.inputDate = dateUtils.humanize(date);\n      this.$emit(\"change\", date);\n      this.closePicker();\n    },\n    onUpdateInput() {\n      if (this.inputDate === \"\") {\n        this.$emit(\"input\", null);\n        return;\n      }\n      let date = new Date(this.inputDate);\n      if (date)\n        if (!isNaN(date.getTime())) {\n          this.$emit(\"input\", date);\n        }\n    },\n\n    togglePicker() {\n      if (this.isPickerOpen()) {\n        this.closePicker();\n      } else {\n        this.openPicker();\n      }\n    },\n\n    openPicker() {\n      if (this.disabled) {\n        return;\n      }\n\n      this.$refs[\"popover\"].open();\n    },\n\n    closePicker() {\n      if (this.usesPopover) {\n        this.$refs.popover.close();\n      }\n    },\n\n    onClick(event) {\n      console.log(event);\n      const clearable = document.getElementsByClassName(\"n-textbox__clearable\");\n      if (event.composedPath().includes(clearable[0])) {\n        console.log(\"clearble\");\n        this.closePicker();\n\n        return;\n      }\n\n      this.togglePicker();\n    },\n\n    onFocus(e) {\n      // if (this.usesPopover && !this.$refs.popover.isOpen()) {\n      //   return;\n      // }\n      this.isActive = true;\n\n      this.$emit(\"focus\", e);\n      if (this.isPickerOpen()) {\n        this.closePicker({ returnFocus: false });\n      }\n    },\n\n    onBlur(e) {\n      this.isActive = false;\n      this.$emit(\"blur\", e);\n      if (this.usesPopover && this.$refs.popover.isOpen()) {\n        this.closePicker({ autoBlur: true });\n      }\n    },\n\n    onPickerOpen() {\n      if (!this.value && this.defaultDate) {\n        this.$emit(\"input\", this.defaultDate);\n      }\n\n      this.isActive = true;\n      this.$emit(\"open\");\n    },\n\n    onPickerClose() {\n      this.$emit(\"close\");\n      this.$emit(\"close\");\n      if (!this.isTouched) {\n        this.isTouched = true;\n        this.$emit(\"touch\");\n      }\n    },\n\n    onPickerCancel() {\n      this.$emit(\"input\", this.valueAtModalOpen);\n      this.$refs.modal.close();\n    },\n\n    onExternalClick(e) {\n      if (this.disabled) {\n        return;\n      }\n\n      const clickWasInternal =\n        this.$el.contains(e.target) ||\n        this.$refs[this.usesPopover ? \"popover\" : \"modal\"].$el.contains(\n          e.target\n        );\n\n      if (clickWasInternal) {\n        return;\n      }\n\n      this.isActive = false;\n    },\n\n    clear() {\n      this.$emit(\"input\", null);\n      this.inputDate = null;\n      this.$emit(\"change\", null);\n      this.$emit(\"clear\");\n      setTimeout(() => {\n        this.closePicker({ autoBlur: true });\n      }, 0);\n    },\n\n    reset() {\n      this.$emit(\"input\", JSON.parse(this.initialValue));\n    },\n\n    resetTouched(options = { touched: false }) {\n      this.isTouched = options.touched;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/sass/imports.scss\";\n\n@import \"@/assets/sass/config.scss\";\n\n.n-datepicker .n-datepicker__label-text {\n  @extend .form-label-style;\n}\n\n.n-datepicker .n-datepicker__display {\n  color: $form-color;\n}\n\n.n-datepicker.is-active:not(.is-disabled) .n-datepicker__label-text,\n.n-datepicker.is-active:not(.is-disabled) .n-datepicker__icon-wrapper .ui-icon {\n  color: $form-color-active;\n}\n\n.n-datepicker.is-active:not(.is-disabled) .n-datepicker__display {\n  border-bottom-color: $form-color-active;\n}\n\n.n-datepicker.is-invalid:not(.is-disabled) .n-datepicker__label-text,\n.n-datepicker.is-invalid:not(.is-disabled)\n  .n-datepicker__icon-wrapper\n  .ui-icon {\n  color: $form-color-invalid;\n}\n.n-datepicker.is-invalid:not(.is-disabled) .n-datepicker__display {\n  border-bottom-color: $form-color-invalid;\n}\n.n-datepicker.is-invalid:not(.is-disabled) .n-datepicker__feedback {\n  color: $form-color-invalid;\n}\n\n.n-calendar-month__header {\n  background: #0ab4b1;\n  span {\n    color: #fff !important;\n    font-weight: 500;\n  }\n}\n\n.n-calendar__body {\n  padding: 0 !important;\n  // height: 16rem !important;\n  background: #fff;\n}\n\n.n-calendar-controls {\n  background: #5b5b5b;\n  color: #fff;\n  text-transform: uppercase;\n}\n.n-calendar-week {\n  border-bottom: 1px solid #0ab4b1;\n}\n.n-calendar-month__week {\n  width: 17rem !important;\n}\n.n-calendar-month {\n  .n-calendar-month__week.is-other {\n    left: 17rem;\n  }\n}\n.n-calendar-week__date {\n  border-radius: 0 !important;\n  border-right: 1px solid #0ab4b1;\n  height: 2.4rem !important;\n  width: 2.4rem !important;\n}\n.n-calendar-week__date.is-in-other-month {\n  visibility: visible !important;\n  background: #f9f9f9;\n}\n\n.n-calendar__header-details {\n  display: none !important;\n}\n\n.n-calendar__header-year {\n  margin-bottom: 0 !important;\n  text-align: center;\n  font-size: 1rem;\n}\n\n.n-calendar__header {\n  padding: 0.6rem 0 !important;\n  background-color: #292f2f !important;\n}\n\n.n-calendar--color-primary .n-calendar__year:hover,\nbody[modality=\"keyboard\"] .n-calendar--color-primary .n-calendar__year:focus {\n  color: $form-color-active !important;\n}\n.n-calendar--color-primary .n-calendar__year.is-selected {\n  color: $form-color-active !important;\n}\n.n-calendar--color-primary .n-calendar-week__date.is-today {\n  font-weight: 500 !important;\n}\n.n-calendar--color-primary .n-calendar-week__date.is-selected,\nbody[modality=\"keyboard\"]\n  .n-calendar--color-primary\n  .n-calendar-week__date.is-selected {\n  background-color: $form-color-active !important;\n  color: #fff;\n}\n\n.n-datepicker {\n  align-items: flex-start;\n  display: flex;\n  font-family: $font-stack;\n  margin-bottom: $ui-input-margin-bottom;\n  outline: none;\n  position: relative;\n\n  &:hover:not(.is-disabled) {\n    .n-datepicker__label-text {\n      color: $ui-input-label-color--hover;\n    }\n\n    .n-datepicker__display {\n      border-bottom-color: $ui-input-border-color--hover;\n    }\n\n    .n-datepicker__dropdown-button {\n      color: $ui-input-button-color--hover;\n    }\n  }\n\n  &.is-active:not(.is-disabled) {\n    .n-datepicker__label-text,\n    .n-datepicker__icon-wrapper .ui-icon {\n      color: $ui-input-label-color--active;\n    }\n\n    .n-datepicker__display {\n      border-bottom-color: $ui-input-border-color--active;\n      border-bottom-width: $ui-input-border-width--active;\n    }\n  }\n\n  &.has-floating-label {\n    .n-datepicker__label-text {\n      // Behaves like a block, but width is the width of its content.\n      // Needed here so label doesn't overflow parent when scaled.\n      display: table;\n\n      &.is-inline {\n        color: $ui-input-label-color; // So the hover styles don't override it\n        cursor: pointer;\n        transform: translateY($ui-input-label-top--inline) scale(1.1);\n      }\n\n      &.is-floating {\n        transform: translateY(0) scale(1);\n      }\n    }\n  }\n\n  &.has-label {\n    .n-datepicker__icon-wrapper {\n      padding-top: $ui-input-icon-margin-top--with-label;\n    }\n\n    .n-datepicker__dropdown-button {\n      top: $ui-input-button-margin-top--with-label;\n    }\n  }\n\n  &.is-invalid:not(.is-disabled) {\n    .n-datepicker__label-text,\n    .n-datepicker__icon-wrapper .ui-icon {\n      color: $ui-input-label-color--invalid;\n    }\n\n    .n-datepicker__display {\n      border-bottom-color: $ui-input-border-color--invalid;\n    }\n\n    .n-datepicker__feedback {\n      color: $ui-input-feedback-color--invalid;\n    }\n  }\n\n  &.is-disabled {\n    .n-datepicker__display {\n      border-bottom-style: $ui-input-border-style--disabled;\n      border-bottom-width: $ui-input-border-width--active;\n      color: $ui-input-text-color--disabled;\n      cursor: default;\n    }\n\n    .n-datepicker__dropdown-button,\n    .n-datepicker__display-value.is-placeholder {\n      color: $ui-input-text-color--disabled;\n      opacity: $ui-input-button-opacity--disabled;\n    }\n\n    .n-datepicker__icon-wrapper .ui-icon {\n      opacity: $ui-input-icon-opacity--disabled;\n    }\n\n    .n-datepicker__feedback {\n      opacity: $ui-input-feedback-opacity--disabled;\n    }\n  }\n\n  .ui-modal:not(.has-footer) .ui-modal__body {\n    padding: 0;\n\n    .n-calendar__body {\n      height: rem(348px);\n    }\n  }\n\n  .ui-modal__container {\n    width: rem(268px);\n  }\n}\n\n.n-datepicker__label {\n  display: block;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  position: relative;\n  width: 100%;\n}\n\n.n-datepicker__icon-wrapper {\n  flex-shrink: 0;\n  margin-right: $ui-input-icon-margin-right;\n  padding-top: $ui-input-icon-margin-top;\n\n  .ui-icon {\n    color: $ui-input-icon-color;\n  }\n}\n\n.n-datepicker__content {\n  flex-grow: 1;\n}\n\n.n-datepicker__label-text {\n  color: $ui-input-label-color;\n  cursor: default;\n  font-size: $ui-input-label-font-size;\n  line-height: $ui-input-label-line-height;\n  margin-bottom: $ui-input-label-margin-bottom;\n  transform-origin: left;\n  transition: color 0.1s ease, transform 0.2s ease;\n}\n\n.n-datepicker__display {\n  align-items: center;\n  border: none;\n  border-bottom-color: $ui-input-border-color;\n  border-bottom-style: solid;\n  border-bottom-width: $ui-input-border-width;\n  color: $ui-input-text-color;\n  cursor: pointer;\n  display: flex;\n  font-family: inherit;\n  font-size: $ui-input-text-font-size;\n  font-weight: normal;\n  height: $ui-input-height;\n  line-height: 1;\n  padding: 0;\n  transition: border 0.1s ease;\n  user-select: none;\n  width: 100%;\n}\n\n.n-datepicker__display-value {\n  flex-grow: 1;\n\n  &.is-placeholder {\n    color: $hint-text-color;\n  }\n}\n\n.n-datepicker__dropdown-button {\n  color: $ui-input-button-color;\n  font-size: $ui-input-button-size;\n  margin-left: auto;\n  margin-right: rem(-4px);\n}\n\n.n-datepicker__feedback {\n  color: $ui-input-feedback-color;\n  font-size: $ui-input-feedback-font-size;\n  line-height: $ui-input-feedback-line-height;\n  margin: 0;\n  padding-top: $ui-input-feedback-padding-top;\n  position: relative;\n}\n\n.n-datepicker__modal-buttons {\n  display: flex;\n  justify-content: flex-end;\n\n  .ui-button {\n    min-width: rem(64px);\n  }\n}\n\n// ================================================\n// Icon Positions\n// ================================================\n\n.n-datepicker--icon-position-right {\n  .n-datepicker__icon-wrapper {\n    margin-left: rem(8px);\n    margin-right: 0;\n    order: 1;\n  }\n}\n\n// ================================================\n// Orientations\n// ================================================\n\n.n-datepicker--orientation-landscape {\n  .ui-modal__container {\n    width: rem(396px);\n  }\n}\n\n.n-datepicker .n-textbox.is-disabled .n-textbox__input,\n.n-datepicker .n-textbox.is-disabled .n-textbox__textarea {\n  border-bottom-style: solid;\n  color: #231f20;\n  &:focus {\n    border-color: red;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}