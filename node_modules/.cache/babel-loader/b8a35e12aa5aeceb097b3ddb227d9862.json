{"remainingRequest":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/thread-loader/dist/cjs.js!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/runner/work/nymbl-ui/nymbl-ui/src/components/NSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/runner/work/nymbl-ui/nymbl-ui/src/components/NSelect.vue","mtime":1585661990411},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport NPopover from \"./NPopover.vue\";\nimport NLoadingCircle from \"./NLoadingCircle.vue\";\nimport NSelectOption from \"./NSelectOption.vue\";\nimport RespondsToExternalClick from \"../mixins/RespondsToExternalClick\";\nimport { looseIndexOf, looseEqual } from \"../helpers/util\";\nimport { scrollIntoView, resetScroll } from \"../helpers/element-scroll\";\nimport fuzzysearch from \"fuzzysearch\";\nexport default {\n  name: \"NSelect\",\n  components: {\n    NPopover: NPopover,\n    NLoadingCircle: NLoadingCircle,\n    NSelectOption: NSelectOption\n  },\n  mixins: [RespondsToExternalClick],\n  props: {\n    name: String,\n    tabindex: [String, Number],\n    // selectedOption: {\n    //   type: [String, Number, Object, Array],\n    //   required: true\n    // },\n    value: {\n      type: [String, Number, Object, Array]\n    },\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    placeholder: String,\n    icon: String,\n    iconPosition: {\n      type: String,\n      default: \"left\" // 'left' or 'right'\n\n    },\n    label: String,\n    floatingLabel: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: \"basic\" // 'basic' or 'image'\n\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    multipleDelimiter: {\n      type: String,\n      default: \", \"\n    },\n    hasSearch: {\n      type: Boolean,\n      default: false\n    },\n    searchPlaceholder: {\n      type: String,\n      default: \"Search\"\n    },\n    filter: Function,\n    disableFilter: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    noResults: {\n      type: Boolean,\n      default: false\n    },\n    keys: {\n      type: Object,\n      default: function _default() {\n        return {\n          class: \"class\",\n          label: \"label\",\n          value: \"value\",\n          image: \"image\"\n        };\n      }\n    },\n    invalid: {\n      type: Boolean,\n      default: false\n    },\n    help: String,\n    error: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      query: \"\",\n      isActive: false,\n      isTouched: false,\n      selectedIndex: -1,\n      highlightedIndex: -1,\n      initialValue: JSON.stringify(this.selectedOption)\n    };\n  },\n  computed: {\n    classes: function classes() {\n      return [\"n-select--type-\".concat(this.type), \"n-select--icon-position-\".concat(this.iconPosition), {\n        \"is-active\": this.isActive\n      }, {\n        \"is-invalid\": this.invalid\n      }, {\n        \"is-touched\": this.isTouched\n      }, {\n        \"is-disabled\": this.disabled\n      }, {\n        \"is-multiple\": this.multiple\n      }, {\n        \"has-label\": this.hasLabel\n      }, {\n        \"has-floating-label\": this.hasFloatingLabel\n      }];\n    },\n    labelClasses: function labelClasses() {\n      return {\n        \"is-inline\": this.hasFloatingLabel && this.isLabelInline,\n        \"is-floating\": this.hasFloatingLabel && !this.isLabelInline\n      };\n    },\n    hasLabel: function hasLabel() {\n      return Boolean(this.label) || Boolean(this.$slots.default);\n    },\n    hasFloatingLabel: function hasFloatingLabel() {\n      return this.hasLabel && this.floatingLabel;\n    },\n    isLabelInline: function isLabelInline() {\n      return this.selectedOption.length === 0 && !this.isActive;\n    },\n    hasFeedback: function hasFeedback() {\n      return this.showError || this.showHelp;\n    },\n    showError: function showError() {\n      return this.invalid && (Boolean(this.error) || Boolean(this.$slots.error));\n    },\n    showHelp: function showHelp() {\n      return Boolean(this.help) || Boolean(this.$slots.help);\n    },\n    selectedOption: function selectedOption() {\n      var _this = this;\n\n      return this.options.filter(function (option) {\n        return option[_this.keys.value] == null ? option === _this.value : option[_this.keys.value] === _this.value;\n      })[0];\n    },\n    filteredOptions: function filteredOptions() {\n      var _this2 = this;\n\n      if (this.disableFilter) {\n        return this.options;\n      }\n\n      var options = this.options.filter(function (option) {\n        if (_this2.filter) {\n          return _this2.filter(option, _this2.query, _this2.defaultFilter);\n        }\n\n        return _this2.defaultFilter(option, _this2.query);\n      });\n\n      if (this.sort) {\n        options.sort(this.sort.bind(this));\n      }\n\n      return options;\n    },\n    displayText: function displayText() {\n      var _this3 = this;\n\n      if (this.multiple) {\n        if (this.selectedOption.length > 0) {\n          return this.selectedOption.map(function (value) {\n            return value[_this3.keys.label] || value;\n          }).join(this.multipleDelimiter);\n        }\n\n        return \"\";\n      }\n\n      return this.selectedOption ? this.selectedOption[this.keys.label] || this.selectedOption : \"\";\n    },\n    hasDisplayText: function hasDisplayText() {\n      return Boolean(this.displayText.length);\n    },\n    hasNoResults: function hasNoResults() {\n      if (this.loading || this.query.length === 0) {\n        return false;\n      }\n\n      return this.disableFilter ? this.noResults : this.filteredOptions.length === 0;\n    },\n    submittedValue: function submittedValue() {\n      var _this4 = this;\n\n      // Assuming that if there is no name or no value,\n      // then there's no need to compute the submittedValue\n      if (!this.name || !this.selectedOption) {\n        return;\n      }\n\n      if (Array.isArray(this.selectedOption)) {\n        return this.selectedOption.map(function (option) {\n          return option[_this4.keys.value] || option;\n        }).join(\",\");\n      }\n\n      return this.selectedOption[this.keys.value] || this.selectedOption;\n    },\n    imageStyle: function imageStyle() {\n      return {\n        \"background-image\": \"url(\" + this.selectedOption[this.keys.image] + \")\"\n      };\n    }\n  },\n  watch: {\n    filteredOptions: function filteredOptions() {\n      this.highlightedIndex = 0;\n      resetScroll(this.$refs.optionsList);\n    },\n    query: function query() {\n      this.$emit(\"query-change\", this.query);\n    },\n    isActive: function isActive(value) {\n      if (value) {\n        this.addExternalClickListener(this.$el, this.onExternalClick);\n      } else {\n        this.removeExternalClickListener();\n      }\n    }\n  },\n  created: function created() {\n    if (!this.selectedOption || this.selectedOption === \"\") {\n      this.setValue(null);\n    }\n  },\n  methods: {\n    setValue: function setValue(value) {\n      value = value ? value : this.multiple ? [] : \"\";\n      this.$emit(\"input\", value[this.keys.value] == null ? value : value[this.keys.value]);\n      this.$emit(\"change\", value[this.keys.value] == null ? value : value[this.keys.value]);\n    },\n    highlightOption: function highlightOption(index) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        autoScroll: true\n      };\n\n      if (this.highlightedIndex === index || this.$refs.options.length === 0) {\n        return;\n      }\n\n      var firstIndex = 0;\n      var lastIndex = this.$refs.options.length - 1;\n\n      if (index < firstIndex) {\n        index = lastIndex;\n      } else if (index > lastIndex) {\n        index = firstIndex;\n      }\n\n      this.highlightedIndex = index;\n\n      if (options.autoScroll) {\n        this.scrollOptionIntoView(this.$refs.options[index].$el);\n      }\n    },\n    selectHighlighted: function selectHighlighted(index, e) {\n      if (this.$refs.options.length > 0) {\n        e.preventDefault();\n        this.selectOption(this.$refs.options[index].option, index);\n      }\n    },\n    selectOption: function selectOption(option, index) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        autoClose: true\n      };\n      var shouldSelect = this.multiple && !this.isOptionSelected(option);\n\n      if (this.multiple) {\n        this.updateOption(option, {\n          select: shouldSelect\n        });\n      } else {\n        this.setValue(option);\n        this.selectedIndex = index;\n      }\n\n      this.$emit(\"select\", option, {\n        selected: this.multiple ? shouldSelect : true\n      });\n      this.highlightedIndex = index;\n\n      if (!this.multiple) {\n        this.clearQuery();\n      }\n\n      if (!this.multiple && options.autoClose) {\n        this.closeDropdown();\n      }\n    },\n    isOptionSelected: function isOptionSelected(option) {\n      if (this.multiple) {\n        return looseIndexOf(this.selectedOption, option) > -1;\n      }\n\n      return looseEqual(this.selectedOption, option);\n    },\n    updateOption: function updateOption(option) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        select: true\n      };\n      var value = [];\n      var updated = false;\n      var i = looseIndexOf(this.selectedOption, option);\n\n      if (options.select && i < 0) {\n        value = this.selectedOption.concat(option);\n        updated = true;\n      }\n\n      if (!options.select && i > -1) {\n        value = this.selectedOption.slice(0, i).concat(this.selectedOption.slice(i + 1));\n        updated = true;\n      }\n\n      if (updated) {\n        this.setValue(value);\n      }\n    },\n    defaultFilter: function defaultFilter(option, query) {\n      var text = option[this.keys.label] || option;\n\n      if (typeof text === \"string\") {\n        text = text.toLowerCase();\n      }\n\n      return fuzzysearch(query.toLowerCase(), text);\n    },\n    clearSelection: function clearSelection() {\n      this.setValue(null);\n    },\n    clearQuery: function clearQuery() {\n      this.query = \"\";\n    },\n    focus: function focus() {\n      this.$refs.label.focus();\n    },\n    toggleDropdown: function toggleDropdown() {\n      this.$refs.dropdown.toggle();\n    },\n    openDropdown: function openDropdown() {\n      if (this.disabled) {\n        return;\n      }\n\n      this.$refs.dropdown.open();\n    },\n    closeDropdown: function closeDropdown() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        blurAfterClose: false\n      };\n      this.$refs.dropdown.close();\n\n      if (!this.isTouched) {\n        this.isTouched = true;\n        this.$emit(\"touch\");\n      }\n\n      if (options.blurAfterClose) {\n        this.isActive = false;\n      } else {\n        this.$refs.label.focus();\n      }\n    },\n    onFocus: function onFocus(e) {\n      if (this.isActive) {\n        return;\n      }\n\n      this.isActive = true;\n      this.$emit(\"focus\", e);\n    },\n    onBlur: function onBlur(e) {\n      this.isActive = false;\n      this.$emit(\"blur\", e);\n\n      if (this.$refs.dropdown.isOpen()) {\n        this.closeDropdown({\n          blurAfterClose: true\n        });\n      }\n    },\n    onOpen: function onOpen() {\n      var _this5 = this;\n\n      this.isActive = true;\n      this.$refs.dropdown.$el.style.width = this.$refs.label.getBoundingClientRect().width + \"px\";\n      this.$nextTick(function () {\n        _this5.scrollOptionIntoView(_this5.$refs.optionsList.querySelector(\".is-selected\"));\n      });\n      this.$emit(\"dropdown-open\");\n    },\n    onReveal: function onReveal() {\n      this.$refs[this.hasSearch ? \"searchInput\" : \"dropdownContent\"].focus();\n    },\n    onClose: function onClose() {\n      this.highlightedIndex = this.multiple ? -1 : this.selectedIndex; // this.$emit(\"dropdown-close\");\n    },\n    onExternalClick: function onExternalClick() {\n      if (this.$refs.dropdown.isOpen()) {\n        this.closeDropdown({\n          blurAfterClose: true\n        });\n      } else if (this.isActive) {\n        this.isActive = false;\n      }\n    },\n    scrollOptionIntoView: function scrollOptionIntoView(optionEl) {\n      scrollIntoView(optionEl, {\n        container: this.$refs.optionsList,\n        marginTop: 180\n      });\n    },\n    reset: function reset() {\n      this.setValue(JSON.parse(this.initialValue));\n      this.clearQuery();\n      this.resetTouched();\n      this.selectedIndex = -1;\n      this.highlightedIndex = -1;\n    },\n    resetTouched: function resetTouched() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        touched: false\n      };\n      this.isTouched = options.touched;\n    }\n  }\n};",{"version":3,"sources":["NSelect.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"n-select\" :class=\"classes\">\n    <input\n      v-if=\"name\"\n      class=\"n-select__hidden-input\"\n      type=\"hidden\"\n      :name=\"name\"\n      :value=\"submittedValue\"\n    />\n\n    <div class=\"n-select__content\">\n      <div\n        ref=\"label\"\n        class=\"n-select__label\"\n        :tabindex=\"disabled ? null : tabindex || '0'\"\n        @focus=\"onFocus\"\n        @keydown.enter.prevent=\"openDropdown\"\n        @keydown.space.prevent=\"openDropdown\"\n        @keydown.tab=\"onBlur\"\n      >\n        <div\n          v-if=\"label || $slots.default\"\n          class=\"n-select__label-text\"\n          :class=\"labelClasses\"\n        >\n          <slot>{{ label }}</slot>\n        </div>\n\n        <div class=\"n-select__display\">\n          <div\n            class=\"n-select__display-value\"\n            :class=\"{ 'is-placeholder': !hasDisplayText }\"\n          >\n            <div v-if=\"type === 'image'\" class=\"n-select-option__image\">\n              <div class=\"n-select-option__image-text\">\n                {{\n                  hasDisplayText\n                    ? displayText\n                    : hasFloatingLabel && isLabelInline\n                    ? null\n                    : placeholder\n                }}\n              </div>\n              <div\n                class=\"n-select-option__image-object\"\n                :style=\"imageStyle\"\n              ></div>\n            </div>\n            <div v-else>\n              {{\n                hasDisplayText\n                  ? displayText\n                  : hasFloatingLabel && isLabelInline\n                  ? null\n                  : placeholder\n              }}\n            </div>\n          </div>\n\n          <div class=\"n-select__dropdown-button\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path d=\"M6.984 9.984h10.03L12 15z\" />\n            </svg>\n          </div>\n        </div>\n\n        <n-popover\n          ref=\"dropdown\"\n          class=\"n-select__dropdown\"\n          :close-on-scroll=\"false\"\n          :constrain-to-scroll-parent=\"false\"\n          :disabled=\"disabled\"\n          @close=\"onClose\"\n          @open=\"onOpen\"\n          @reveal=\"onReveal\"\n        >\n          <div\n            ref=\"dropdownContent\"\n            class=\"n-select__dropdown-content\"\n            tabindex=\"-1\"\n            @keydown.down.prevent=\"highlightOption(highlightedIndex + 1)\"\n            @keydown.enter.prevent.stop=\"\n              selectHighlighted(highlightedIndex, $event)\n            \"\n            @keydown.esc.prevent=\"closeDropdown()\"\n            @keydown.tab=\"onBlur\"\n            @keydown.up.prevent=\"highlightOption(highlightedIndex - 1)\"\n          >\n            <div\n              v-if=\"hasSearch\"\n              class=\"n-select__search\"\n              @click.stop\n              @keydown.space.stop\n            >\n              <input\n                ref=\"searchInput\"\n                v-model=\"query\"\n                autocomplete=\"off\"\n                class=\"n-select__search-input\"\n                type=\"text\"\n                :placeholder=\"searchPlaceholder\"\n              />\n\n              <div class=\"n-select__search-icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"18\"\n                  height=\"18\"\n                  viewBox=\"0 0 18 18\"\n                >\n                  <path\n                    d=\"M9.516 14.016c2.484 0 4.5-2.016 4.5-4.5s-2.016-4.5-4.5-4.5-4.5 2.016-4.5 4.5 2.016 4.5 4.5 4.5zm6 0l4.97 4.97-1.5 1.5-4.97-4.97v-.797l-.28-.282c-1.126.984-2.626 1.547-4.22 1.547-3.61 0-6.516-2.86-6.516-6.47S5.906 3 9.516 3s6.47 2.906 6.47 6.516c0 1.594-.564 3.094-1.548 4.22l.28.28h.798z\"\n                  />\n                </svg>\n              </div>\n\n              <n-loading-circle\n                v-if=\"loading\"\n                class=\"n-select__search-progress\"\n                :size=\"20\"\n                :stroke=\"4\"\n              ></n-loading-circle>\n            </div>\n\n            <ul ref=\"optionsList\" class=\"n-select__options\">\n              <n-select-option\n                v-for=\"(option, index) in filteredOptions\"\n                ref=\"options\"\n                :key=\"index\"\n                :highlighted=\"highlightedIndex === index\"\n                :keys=\"keys\"\n                :multiple=\"multiple\"\n                :option=\"option\"\n                :selected=\"isOptionSelected(option)\"\n                :type=\"type\"\n                @click.native.stop=\"selectOption(option, index)\"\n                @mouseover.native.stop=\"\n                  highlightOption(index, { autoScroll: false })\n                \"\n              >\n                <slot\n                  name=\"option\"\n                  :highlighted=\"highlightedIndex === index\"\n                  :index=\"index\"\n                  :option=\"option\"\n                  :selected=\"isOptionSelected(option)\"\n                ></slot>\n              </n-select-option>\n\n              <div v-show=\"hasNoResults\" class=\"n-select__no-results\">\n                <slot name=\"no-results\">No results found</slot>\n              </div>\n            </ul>\n          </div>\n        </n-popover>\n      </div>\n\n      <div v-if=\"hasFeedback\" class=\"n-select__feedback\">\n        <div v-if=\"showError\" class=\"n-select__feedback-text\">\n          <slot name=\"error\">{{ error }}</slot>\n        </div>\n\n        <div v-else-if=\"showHelp\" class=\"n-select__feedback-text\">\n          <slot name=\"help\">{{ help }}</slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NPopover from \"./NPopover.vue\";\nimport NLoadingCircle from \"./NLoadingCircle.vue\";\nimport NSelectOption from \"./NSelectOption.vue\";\n\nimport RespondsToExternalClick from \"../mixins/RespondsToExternalClick\";\nimport { looseIndexOf, looseEqual } from \"../helpers/util\";\nimport { scrollIntoView, resetScroll } from \"../helpers/element-scroll\";\n\nimport fuzzysearch from \"fuzzysearch\";\n\nexport default {\n  name: \"NSelect\",\n\n  components: {\n    NPopover,\n    NLoadingCircle,\n    NSelectOption\n  },\n\n  mixins: [RespondsToExternalClick],\n\n  props: {\n    name: String,\n    tabindex: [String, Number],\n    // selectedOption: {\n    //   type: [String, Number, Object, Array],\n    //   required: true\n    // },\n    value: {\n      type: [String, Number, Object, Array]\n    },\n    options: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    placeholder: String,\n    icon: String,\n    iconPosition: {\n      type: String,\n      default: \"left\" // 'left' or 'right'\n    },\n    label: String,\n    floatingLabel: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: \"basic\" // 'basic' or 'image'\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    multipleDelimiter: {\n      type: String,\n      default: \", \"\n    },\n    hasSearch: {\n      type: Boolean,\n      default: false\n    },\n    searchPlaceholder: {\n      type: String,\n      default: \"Search\"\n    },\n    filter: Function,\n    disableFilter: {\n      type: Boolean,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    noResults: {\n      type: Boolean,\n      default: false\n    },\n    keys: {\n      type: Object,\n      default() {\n        return {\n          class: \"class\",\n          label: \"label\",\n          value: \"value\",\n          image: \"image\"\n        };\n      }\n    },\n    invalid: {\n      type: Boolean,\n      default: false\n    },\n    help: String,\n    error: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      query: \"\",\n      isActive: false,\n      isTouched: false,\n      selectedIndex: -1,\n      highlightedIndex: -1,\n      initialValue: JSON.stringify(this.selectedOption)\n    };\n  },\n\n  computed: {\n    classes() {\n      return [\n        `n-select--type-${this.type}`,\n        `n-select--icon-position-${this.iconPosition}`,\n        { \"is-active\": this.isActive },\n        { \"is-invalid\": this.invalid },\n        { \"is-touched\": this.isTouched },\n        { \"is-disabled\": this.disabled },\n        { \"is-multiple\": this.multiple },\n        { \"has-label\": this.hasLabel },\n        { \"has-floating-label\": this.hasFloatingLabel }\n      ];\n    },\n\n    labelClasses() {\n      return {\n        \"is-inline\": this.hasFloatingLabel && this.isLabelInline,\n        \"is-floating\": this.hasFloatingLabel && !this.isLabelInline\n      };\n    },\n\n    hasLabel() {\n      return Boolean(this.label) || Boolean(this.$slots.default);\n    },\n\n    hasFloatingLabel() {\n      return this.hasLabel && this.floatingLabel;\n    },\n\n    isLabelInline() {\n      return this.selectedOption.length === 0 && !this.isActive;\n    },\n\n    hasFeedback() {\n      return this.showError || this.showHelp;\n    },\n\n    showError() {\n      return (\n        this.invalid && (Boolean(this.error) || Boolean(this.$slots.error))\n      );\n    },\n\n    showHelp() {\n      return Boolean(this.help) || Boolean(this.$slots.help);\n    },\n\n    selectedOption() {\n      return this.options.filter(option =>\n        option[this.keys.value] == null\n          ? option === this.value\n          : option[this.keys.value] === this.value\n      )[0];\n    },\n\n    filteredOptions() {\n      if (this.disableFilter) {\n        return this.options;\n      }\n\n      const options = this.options.filter(option => {\n        if (this.filter) {\n          return this.filter(option, this.query, this.defaultFilter);\n        }\n\n        return this.defaultFilter(option, this.query);\n      });\n\n      if (this.sort) {\n        options.sort(this.sort.bind(this));\n      }\n\n      return options;\n    },\n\n    displayText() {\n      if (this.multiple) {\n        if (this.selectedOption.length > 0) {\n          return this.selectedOption\n            .map(value => value[this.keys.label] || value)\n            .join(this.multipleDelimiter);\n        }\n\n        return \"\";\n      }\n\n      return this.selectedOption\n        ? this.selectedOption[this.keys.label] || this.selectedOption\n        : \"\";\n    },\n\n    hasDisplayText() {\n      return Boolean(this.displayText.length);\n    },\n\n    hasNoResults() {\n      if (this.loading || this.query.length === 0) {\n        return false;\n      }\n\n      return this.disableFilter\n        ? this.noResults\n        : this.filteredOptions.length === 0;\n    },\n\n    submittedValue() {\n      // Assuming that if there is no name or no value,\n      // then there's no need to compute the submittedValue\n      if (!this.name || !this.selectedOption) {\n        return;\n      }\n\n      if (Array.isArray(this.selectedOption)) {\n        return this.selectedOption\n          .map(option => option[this.keys.value] || option)\n          .join(\",\");\n      }\n\n      return this.selectedOption[this.keys.value] || this.selectedOption;\n    },\n    imageStyle() {\n      return {\n        \"background-image\": \"url(\" + this.selectedOption[this.keys.image] + \")\"\n      };\n    }\n  },\n\n  watch: {\n    filteredOptions() {\n      this.highlightedIndex = 0;\n      resetScroll(this.$refs.optionsList);\n    },\n\n    query() {\n      this.$emit(\"query-change\", this.query);\n    },\n\n    isActive(value) {\n      if (value) {\n        this.addExternalClickListener(this.$el, this.onExternalClick);\n      } else {\n        this.removeExternalClickListener();\n      }\n    }\n  },\n\n  created() {\n    if (!this.selectedOption || this.selectedOption === \"\") {\n      this.setValue(null);\n    }\n  },\n\n  methods: {\n    setValue(value) {\n      value = value ? value : this.multiple ? [] : \"\";\n\n      this.$emit(\n        \"input\",\n        value[this.keys.value] == null ? value : value[this.keys.value]\n      );\n\n      this.$emit(\n        \"change\",\n        value[this.keys.value] == null ? value : value[this.keys.value]\n      );\n    },\n\n    highlightOption(index, options = { autoScroll: true }) {\n      if (this.highlightedIndex === index || this.$refs.options.length === 0) {\n        return;\n      }\n\n      const firstIndex = 0;\n      const lastIndex = this.$refs.options.length - 1;\n\n      if (index < firstIndex) {\n        index = lastIndex;\n      } else if (index > lastIndex) {\n        index = firstIndex;\n      }\n\n      this.highlightedIndex = index;\n\n      if (options.autoScroll) {\n        this.scrollOptionIntoView(this.$refs.options[index].$el);\n      }\n    },\n\n    selectHighlighted(index, e) {\n      if (this.$refs.options.length > 0) {\n        e.preventDefault();\n        this.selectOption(this.$refs.options[index].option, index);\n      }\n    },\n\n    selectOption(option, index, options = { autoClose: true }) {\n      const shouldSelect = this.multiple && !this.isOptionSelected(option);\n\n      if (this.multiple) {\n        this.updateOption(option, { select: shouldSelect });\n      } else {\n        this.setValue(option);\n        this.selectedIndex = index;\n      }\n\n      this.$emit(\"select\", option, {\n        selected: this.multiple ? shouldSelect : true\n      });\n\n      this.highlightedIndex = index;\n\n      if (!this.multiple) {\n        this.clearQuery();\n      }\n\n      if (!this.multiple && options.autoClose) {\n        this.closeDropdown();\n      }\n    },\n\n    isOptionSelected(option) {\n      if (this.multiple) {\n        return looseIndexOf(this.selectedOption, option) > -1;\n      }\n\n      return looseEqual(this.selectedOption, option);\n    },\n\n    updateOption(option, options = { select: true }) {\n      let value = [];\n      let updated = false;\n      const i = looseIndexOf(this.selectedOption, option);\n\n      if (options.select && i < 0) {\n        value = this.selectedOption.concat(option);\n        updated = true;\n      }\n\n      if (!options.select && i > -1) {\n        value = this.selectedOption\n          .slice(0, i)\n          .concat(this.selectedOption.slice(i + 1));\n        updated = true;\n      }\n\n      if (updated) {\n        this.setValue(value);\n      }\n    },\n\n    defaultFilter(option, query) {\n      let text = option[this.keys.label] || option;\n\n      if (typeof text === \"string\") {\n        text = text.toLowerCase();\n      }\n\n      return fuzzysearch(query.toLowerCase(), text);\n    },\n\n    clearSelection() {\n      this.setValue(null);\n    },\n\n    clearQuery() {\n      this.query = \"\";\n    },\n\n    focus() {\n      this.$refs.label.focus();\n    },\n\n    toggleDropdown() {\n      this.$refs.dropdown.toggle();\n    },\n\n    openDropdown() {\n      if (this.disabled) {\n        return;\n      }\n\n      this.$refs.dropdown.open();\n    },\n\n    closeDropdown(options = { blurAfterClose: false }) {\n      this.$refs.dropdown.close();\n\n      if (!this.isTouched) {\n        this.isTouched = true;\n        this.$emit(\"touch\");\n      }\n\n      if (options.blurAfterClose) {\n        this.isActive = false;\n      } else {\n        this.$refs.label.focus();\n      }\n    },\n\n    onFocus(e) {\n      if (this.isActive) {\n        return;\n      }\n\n      this.isActive = true;\n      this.$emit(\"focus\", e);\n    },\n\n    onBlur(e) {\n      this.isActive = false;\n      this.$emit(\"blur\", e);\n\n      if (this.$refs.dropdown.isOpen()) {\n        this.closeDropdown({ blurAfterClose: true });\n      }\n    },\n\n    onOpen() {\n      this.isActive = true;\n\n      this.$refs.dropdown.$el.style.width =\n        this.$refs.label.getBoundingClientRect().width + \"px\";\n\n      this.$nextTick(() => {\n        this.scrollOptionIntoView(\n          this.$refs.optionsList.querySelector(\".is-selected\")\n        );\n      });\n\n      this.$emit(\"dropdown-open\");\n    },\n\n    onReveal() {\n      this.$refs[this.hasSearch ? \"searchInput\" : \"dropdownContent\"].focus();\n    },\n\n    onClose() {\n      this.highlightedIndex = this.multiple ? -1 : this.selectedIndex;\n      // this.$emit(\"dropdown-close\");\n    },\n\n    onExternalClick() {\n      if (this.$refs.dropdown.isOpen()) {\n        this.closeDropdown({ blurAfterClose: true });\n      } else if (this.isActive) {\n        this.isActive = false;\n      }\n    },\n\n    scrollOptionIntoView(optionEl) {\n      scrollIntoView(optionEl, {\n        container: this.$refs.optionsList,\n        marginTop: 180\n      });\n    },\n\n    reset() {\n      this.setValue(JSON.parse(this.initialValue));\n      this.clearQuery();\n      this.resetTouched();\n\n      this.selectedIndex = -1;\n      this.highlightedIndex = -1;\n    },\n\n    resetTouched(options = { touched: false }) {\n      this.isTouched = options.touched;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/sass/imports.scss\";\n\n.n-select {\n  align-items: flex-start;\n  display: flex;\n  font-family: $font-stack;\n  margin-bottom: $ui-input-margin-bottom;\n  outline: none;\n  position: relative;\n\n  &:hover:not(.is-disabled) {\n    .n-select__label-text {\n      color: $ui-input-label-color--hover;\n    }\n\n    .n-select__display {\n      border-bottom-color: $ui-input-border-color--hover;\n    }\n\n    .n-select__dropdown-button {\n      color: $ui-input-button-color--hover;\n    }\n  }\n\n  &.is-active:not(.is-disabled) {\n    .n-select__label-text,\n    .n-select__icon-wrapper .ui-icon {\n      color: $ui-input-label-color--active;\n    }\n\n    .n-select__display {\n      border-bottom-color: $ui-input-border-color--active;\n      border-bottom-width: $ui-input-border-width--active;\n    }\n  }\n\n  &.has-floating-label {\n    .n-select__label-text {\n      // Behaves like a block, but width is the width of its content.\n      // Needed here so label doesn't overflow parent when scaled.\n      display: table;\n\n      &.is-inline {\n        color: $ui-input-label-color; // So the hover styles don't override it\n        cursor: pointer;\n        transform: translateY($ui-input-label-top--inline) scale(1.1);\n      }\n\n      &.is-floating {\n        transform: translateY(0) scale(1);\n      }\n    }\n  }\n\n  &.has-label {\n    .n-select__icon-wrapper {\n      padding-top: $ui-input-icon-margin-top--with-label;\n    }\n\n    .n-select__dropdown-button {\n      top: $ui-input-button-margin-top--with-label;\n    }\n  }\n\n  &:not(.is-multiple) {\n    .n-select__display {\n      height: $ui-input-height;\n      line-height: 1;\n    }\n  }\n\n  &.is-multiple {\n    .n-select__display {\n      line-height: 1.4;\n      padding-bottom: rem(4px);\n      padding-top: rem(4px);\n    }\n  }\n\n  &.is-invalid:not(.is-disabled) {\n    .n-select__label-text,\n    .n-select__icon-wrapper .ui-icon {\n      color: $ui-input-label-color--invalid;\n    }\n\n    .n-select__display {\n      border-bottom-color: $ui-input-border-color--invalid;\n    }\n\n    .n-select__feedback {\n      color: $ui-input-feedback-color--invalid;\n    }\n  }\n\n  &.is-disabled {\n    .n-select__display {\n      border-bottom-style: $ui-input-border-style--disabled;\n      border-bottom-width: $ui-input-border-width--active;\n      color: $ui-input-text-color--disabled;\n      cursor: default;\n    }\n\n    .n-select__dropdown-button,\n    .n-select__display-value.is-placeholder {\n      color: $ui-input-text-color--disabled;\n      opacity: $ui-input-button-opacity--disabled;\n    }\n\n    .n-select__icon-wrapper .ui-icon {\n      opacity: $ui-input-icon-opacity--disabled;\n    }\n\n    .n-select__feedback {\n      opacity: $ui-input-feedback-opacity--disabled;\n    }\n  }\n}\n\n.n-select__label {\n  display: block;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n}\n\n.n-select__icon-wrapper {\n  flex-shrink: 0;\n  margin-right: $ui-input-icon-margin-right;\n  padding-top: $ui-input-icon-margin-top;\n\n  .ui-icon {\n    color: $ui-input-icon-color;\n  }\n}\n\n.n-select__content {\n  flex-grow: 1;\n}\n\n.n-select__label-text {\n  color: $ui-input-label-color;\n  cursor: default;\n  font-size: $ui-input-label-font-size;\n  line-height: $ui-input-label-line-height;\n  margin-bottom: $ui-input-label-margin-bottom;\n  transform-origin: left;\n  transition: color 0.1s ease, transform 0.2s ease;\n}\n\n.n-select__display {\n  align-items: center;\n  border: none;\n  border-bottom-color: $ui-input-border-color;\n  border-bottom-style: solid;\n  border-bottom-width: $ui-input-border-width;\n  color: $ui-input-text-color;\n  cursor: pointer;\n  display: flex;\n  font-family: inherit;\n  font-size: $ui-input-text-font-size;\n  font-weight: normal;\n  min-height: $ui-input-height;\n  padding: 0;\n  transition: border 0.1s ease;\n  user-select: none;\n  width: 100%;\n}\n\n.n-select__display-value {\n  flex-grow: 1;\n\n  &.is-placeholder {\n    color: $hint-text-color;\n  }\n}\n\n.n-select__dropdown-button {\n  color: $ui-input-button-color;\n  font-size: $ui-input-button-size;\n  margin-left: auto;\n  margin-right: rem(-4px);\n}\n\n.n-select__dropdown {\n  display: block;\n  list-style-type: none;\n  margin: 0;\n  margin-bottom: rem(8px);\n  min-width: rem(180px);\n  outline: none;\n  padding: 0;\n  width: 100%;\n}\n\n.n-select__dropdown-content {\n  outline: none;\n}\n\n.n-select__search-input {\n  background: none;\n  border: none;\n  border-bottom-color: $ui-input-border-color;\n  border-bottom-style: solid;\n  border-bottom-width: $ui-input-border-width;\n  border-radius: 0;\n  color: $ui-input-text-color;\n  cursor: auto;\n  font-family: inherit;\n  font-size: $ui-input-text-font-size - rem(1px);\n  font-weight: normal;\n  height: $ui-input-height + rem(4px);\n  outline: none;\n  padding: rem(0 12px);\n  padding-left: rem(40px);\n  transition: border 0.1s ease;\n  width: 100%;\n\n  // Hide Edge and IE input clear button\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:focus + .n-select__search-icon {\n    color: $ui-input-label-color--active;\n  }\n}\n\n.n-select__search {\n  .n-select__search-icon,\n  .n-select__search-progress {\n    position: absolute;\n    top: rem(8px);\n  }\n  background: #fff;\n}\n\n.n-select__search-icon {\n  color: $ui-input-icon-color;\n  font-size: rem(20px);\n  left: rem(12px);\n  top: 0.1rem !important;\n}\n\n.n-select__search-progress {\n  right: rem(12px);\n}\n\n.n-select__options {\n  background-color: white;\n  color: $primary-text-color;\n  display: block;\n  list-style-type: none;\n  margin: 0;\n  max-height: rem(256px);\n  min-width: 100%;\n  overflow-y: auto;\n  padding: 0;\n  position: relative;\n}\n\n.n-select__no-results {\n  color: $secondary-text-color;\n  font-size: rem(14px);\n  padding: rem(8px 12px);\n  width: 100%;\n}\n\n.n-select__feedback {\n  color: $ui-input-feedback-color;\n  font-size: $ui-input-feedback-font-size;\n  line-height: $ui-input-feedback-line-height;\n  margin: 0;\n  padding-top: $ui-input-feedback-padding-top;\n  position: relative;\n}\n\n.n-select-option__image {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n.n-select-option__image-object {\n  background-position: 50%;\n  background-size: cover;\n  height: rem(32px);\n  margin-right: rem(12px);\n  width: rem(32px);\n}\n\n// ================================================\n// Icon Positions\n// ================================================\n\n.n-select--icon-position-right {\n  .n-select__icon-wrapper {\n    margin-left: rem(8px);\n    margin-right: 0;\n    order: 1;\n  }\n}\n\n@import \"@/assets/sass/config.scss\";\n\n.n-select .n-select__label-text {\n  @extend .form-label-style;\n}\n\n.n-select .n-select__display {\n  color: $form-color;\n}\nn-select.is-active:not(.is-disabled) .n-select__label-text,\n.n-select.is-active:not(.is-disabled) .n-select__icon-wrapper .ui-icon {\n  color: $form-color-active;\n}\n\n.n-select.n-select.is-active:not(.is-disabled) .n-select__display {\n  border-bottom-color: $form-color-active;\n}\n\n.n-select.n-select.is-invalid:not(.is-disabled) .n-select__label-text,\n.n-select.n-select.is-invalid:not(.is-disabled)\n  .n-select__icon-wrapper\n  .ui-icon {\n  color: $form-color-invalid;\n}\n.n-select.n-select.is-invalid:not(.is-disabled) .n-select__display {\n  border-bottom-color: $form-color-invalid;\n}\n.n-select.n-select.is-invalid:not(.is-disabled) .n-select__feedback {\n  color: $form-color-invalid;\n}\n\n.n-select-option.is-selected {\n  color: $form-color-active !important;\n}\n\n.n-select-option.is-selected .n-select-option__checkbox {\n  color: $form-color-active !important;\n}\n</style>\n"],"sourceRoot":"src/components"}]}