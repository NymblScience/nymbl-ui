{"remainingRequest":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/thread-loader/dist/cjs.js!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/runner/work/nymbl-ui/nymbl-ui/src/components/NPopover.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/runner/work/nymbl-ui/nymbl-ui/src/components/NPopover.vue","mtime":1585661990411},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/nymbl-ui/nymbl-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport tippy from \"tippy.js\";\nimport classlist from \"../helpers/classlist\";\nimport elementRef from \"../helpers/element-ref\";\nimport events from \"../helpers/events\";\nimport NFocusContainer from \"./NFocusContainer.vue\";\nexport default {\n  name: \"NPopover\",\n  components: {\n    NFocusContainer: NFocusContainer\n  },\n  props: {\n    animation: {\n      type: String,\n      default: \"fade\" // 'fade', 'shift-away', 'scale', or 'none'\n\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    closeOnScroll: {\n      type: Boolean,\n      default: true\n    },\n    constrainToScrollParent: {\n      type: Boolean,\n      default: true\n    },\n    containFocus: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    focusRedirector: Function,\n    openOn: {\n      type: String,\n      default: \"click\" // 'click', 'mouseenter', 'focus', or 'manual', plus 'hover' (compat)\n\n    },\n    position: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    raised: {\n      type: Boolean,\n      default: true\n    },\n    ingoreOnClick: {\n      type: String,\n      default: \"\"\n    },\n    trigger: {\n      validator: function validator(value) {\n        return elementRef.validate(value, '[UiPopover]: Invalid prop: \"trigger\". Expected Element, VueComponent or CSS selector string which matches an existing element.');\n      }\n    }\n  },\n  data: function data() {\n    return {\n      returnFocus: false\n    };\n  },\n  watch: {\n    disabled: function disabled(value) {\n      if (this.tip) {\n        if (value === true) {\n          this.tip.disable();\n        } else {\n          this.tip.enable();\n        }\n      }\n    }\n  },\n  created: function created() {\n    this.tip = null;\n  },\n  mounted: function mounted() {\n    this.setupPopover();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroyPopover();\n  },\n  methods: {\n    setupPopover: function setupPopover() {\n      this.triggerEl = elementRef.resolve(this.trigger, this.$el.parentElement);\n\n      if (!this.triggerEl) {\n        // console.error(\"[UiPopover]: Trigger element not found.\");\n        return;\n      }\n\n      var options = {\n        animateFill: false,\n        // Use 'fade' when animation is 'none', as 'none' it's not a valid Tippy.js option.\n        // The effect of no transition is achieved by `duration: 0` below.\n        animation: this.animation === \"none\" ? \"fade\" : this.animation,\n        appendTo: this.appendToBody ? document.body : this.triggerEl.parentElement,\n        arrow: false,\n        content: this.$el,\n        delay: [0, 0],\n        distance: 0,\n        duration: this.animation === \"none\" ? 0 : [250, 200],\n        hideOnClick: false,\n        // ignoreAttributes: true,\n        interactive: true,\n        lazy: true,\n        maxWidth: \"100%\",\n        multiple: true,\n        onHidden: this.onHidden,\n        onHide: this.onClose,\n        onShow: this.onOpen,\n        onShown: this.onShown,\n        placement: this.position,\n        // role: \"tooltip\",\n        theme: \"ui-popover\",\n        autoFocus: false,\n        trigger: this.openOn.replace(\"hover\", \"mouseenter\"),\n        popperOptions: {\n          modifiers: {\n            computeStyle: {\n              // Disable GPU acceleration to fix blurry text in popover on Windows (Chrome)\n              // https://github.com/twbs/bootstrap/issues/23590\n              gpuAcceleration: !(window.devicePixelRatio < 1.5 && /Win/.test(navigator.platform))\n            }\n          }\n        }\n      };\n\n      if (!this.constrainToScrollParent) {\n        options.popperOptions.modifiers.preventOverflow = {\n          enabled: false\n        };\n        options.popperOptions.modifiers.hide = {\n          enabled: false\n        };\n      }\n\n      this.tip = tippy(this.triggerEl, options);\n\n      if (this.disabled) {\n        this.tip.disable();\n      }\n    },\n    destroyPopover: function destroyPopover() {\n      if (this.tip) {\n        this.removeCloseEventListeners();\n\n        this.triggerEl._tippy.destroy();\n\n        this.tip = null;\n      }\n    },\n    isOpen: function isOpen() {\n      return this.tip && this.triggerEl._tippy.state.isVisible;\n    },\n    open: function open() {\n      if (this.tip) {\n        this.triggerEl._tippy.show();\n      }\n    },\n    close: function close() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        returnFocus: true\n      };\n\n      if (this.tip) {\n        this.returnFocus = options.returnFocus;\n\n        this.triggerEl._tippy.hide();\n      }\n    },\n    toggle: function toggle() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        returnFocus: true\n      };\n\n      if (this.tip) {\n        this.returnFocus = options.returnFocus;\n        this.tip[this.isOpen() ? \"hide\" : \"show\"]();\n      }\n    },\n    scheduleUpdate: function scheduleUpdate() {\n      if (this.tip) {\n        this.tip.popperInstance.scheduleUpdate();\n      }\n    },\n    onOpen: function onOpen() {\n      this.addCloseEventListeners();\n      classlist.add(this.triggerEl, \"has-dropdown-open\");\n      this.$emit(\"open\");\n    },\n    onClose: function onClose() {\n      if (this.returnFocus && this.lastFocusedElement) {\n        this.lastFocusedElement.focus();\n      }\n\n      this.removeCloseEventListeners();\n      classlist.remove(this.triggerEl, \"has-dropdown-open\");\n      this.$emit(\"close\"); // Reset return focus\n\n      this.returnFocus = true;\n    },\n    onShown: function onShown() {\n      this.lastFocusedElement = document.activeElement; // this.$refs.focusContainer.focus();\n\n      this.$emit(\"reveal\");\n    },\n    onHidden: function onHidden() {\n      this.$emit(\"hide\");\n    },\n    closeOnExternal: function closeOnExternal(event, closeOptions) {\n      if (!this.$el.contains(event.target)) {\n        this.close(closeOptions);\n      }\n    },\n    addCloseEventListeners: function addCloseEventListeners() {\n      var _this = this;\n\n      this.removeCloseEventListeners(); // Add event listeners in the next tick, otherwise they're triggered immediately\n\n      setTimeout(function () {\n        _this.removeExternalClickListener = events.on(\"click\", document, function (e) {\n          _this.closeOnExternal(e, {\n            returnFocus: false\n          });\n        });\n        _this.removeEscListener = events.onKeydown(27, document, function () {\n          _this.close({\n            returnFocus: true\n          });\n        });\n\n        if (_this.closeOnScroll) {\n          _this.removeScrollListener = events.on(\"scroll\", document, function (e) {\n            _this.closeOnExternal(e, {\n              returnFocus: true\n            });\n          });\n        }\n      }, 0);\n    },\n    removeCloseEventListeners: function removeCloseEventListeners() {\n      if (this.removeExternalClickListener) {\n        this.removeExternalClickListener();\n        this.removeExternalClickListener = null;\n      }\n\n      if (this.removeEscListener) {\n        this.removeEscListener();\n        this.removeEscListener = null;\n      }\n\n      if (this.removeScrollListener) {\n        this.removeScrollListener();\n        this.removeScrollListener = null;\n      }\n    }\n  }\n};",{"version":3,"sources":["NPopover.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <n-focus-container\n    ref=\"focusContainer\"\n    class=\"ui-popover\"\n    role=\"dialog\"\n    :class=\"{ 'is-raised': raised }\"\n    :contain-focus=\"containFocus\"\n    :focus-redirector=\"focusRedirector\"\n    @focus-overflow=\"close()\"\n  >\n    <slot></slot>\n  </n-focus-container>\n</template>\n\n<script>\nimport tippy from \"tippy.js\";\n\nimport classlist from \"../helpers/classlist\";\nimport elementRef from \"../helpers/element-ref\";\nimport events from \"../helpers/events\";\nimport NFocusContainer from \"./NFocusContainer.vue\";\n\nexport default {\n  name: \"NPopover\",\n\n  components: {\n    NFocusContainer\n  },\n\n  props: {\n    animation: {\n      type: String,\n      default: \"fade\" // 'fade', 'shift-away', 'scale', or 'none'\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    closeOnScroll: {\n      type: Boolean,\n      default: true\n    },\n    constrainToScrollParent: {\n      type: Boolean,\n      default: true\n    },\n    containFocus: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    focusRedirector: Function,\n    openOn: {\n      type: String,\n      default: \"click\" // 'click', 'mouseenter', 'focus', or 'manual', plus 'hover' (compat)\n    },\n    position: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    raised: {\n      type: Boolean,\n      default: true\n    },\n    ingoreOnClick: {\n      type: String,\n      default: \"\"\n    },\n    trigger: {\n      validator(value) {\n        return elementRef.validate(\n          value,\n          '[UiPopover]: Invalid prop: \"trigger\". Expected Element, VueComponent or CSS selector string which matches an existing element.'\n        );\n      }\n    }\n  },\n\n  data() {\n    return {\n      returnFocus: false\n    };\n  },\n\n  watch: {\n    disabled(value) {\n      if (this.tip) {\n        if (value === true) {\n          this.tip.disable();\n        } else {\n          this.tip.enable();\n        }\n      }\n    }\n  },\n\n  created() {\n    this.tip = null;\n  },\n\n  mounted() {\n    this.setupPopover();\n  },\n\n  beforeDestroy() {\n    this.destroyPopover();\n  },\n\n  methods: {\n    setupPopover() {\n      this.triggerEl = elementRef.resolve(this.trigger, this.$el.parentElement);\n\n      if (!this.triggerEl) {\n        // console.error(\"[UiPopover]: Trigger element not found.\");\n        return;\n      }\n\n      const options = {\n        animateFill: false,\n        // Use 'fade' when animation is 'none', as 'none' it's not a valid Tippy.js option.\n        // The effect of no transition is achieved by `duration: 0` below.\n        animation: this.animation === \"none\" ? \"fade\" : this.animation,\n        appendTo: this.appendToBody\n          ? document.body\n          : this.triggerEl.parentElement,\n        arrow: false,\n        content: this.$el,\n        delay: [0, 0],\n        distance: 0,\n        duration: this.animation === \"none\" ? 0 : [250, 200],\n        hideOnClick: false,\n        // ignoreAttributes: true,\n        interactive: true,\n        lazy: true,\n        maxWidth: \"100%\",\n        multiple: true,\n        onHidden: this.onHidden,\n        onHide: this.onClose,\n        onShow: this.onOpen,\n        onShown: this.onShown,\n        placement: this.position,\n        // role: \"tooltip\",\n        theme: \"ui-popover\",\n        autoFocus: false,\n        trigger: this.openOn.replace(\"hover\", \"mouseenter\"),\n        popperOptions: {\n          modifiers: {\n            computeStyle: {\n              // Disable GPU acceleration to fix blurry text in popover on Windows (Chrome)\n              // https://github.com/twbs/bootstrap/issues/23590\n              gpuAcceleration: !(\n                window.devicePixelRatio < 1.5 && /Win/.test(navigator.platform)\n              )\n            }\n          }\n        }\n      };\n\n      if (!this.constrainToScrollParent) {\n        options.popperOptions.modifiers.preventOverflow = { enabled: false };\n        options.popperOptions.modifiers.hide = { enabled: false };\n      }\n      this.tip = tippy(this.triggerEl, options);\n\n      if (this.disabled) {\n        this.tip.disable();\n      }\n    },\n\n    destroyPopover() {\n      if (this.tip) {\n        this.removeCloseEventListeners();\n        this.triggerEl._tippy.destroy();\n        this.tip = null;\n      }\n    },\n\n    isOpen() {\n      return this.tip && this.triggerEl._tippy.state.isVisible;\n    },\n\n    open() {\n      if (this.tip) {\n        this.triggerEl._tippy.show();\n      }\n    },\n\n    close(options = { returnFocus: true }) {\n      if (this.tip) {\n        this.returnFocus = options.returnFocus;\n        this.triggerEl._tippy.hide();\n      }\n    },\n\n    toggle(options = { returnFocus: true }) {\n      if (this.tip) {\n        this.returnFocus = options.returnFocus;\n        this.tip[this.isOpen() ? \"hide\" : \"show\"]();\n      }\n    },\n\n    scheduleUpdate() {\n      if (this.tip) {\n        this.tip.popperInstance.scheduleUpdate();\n      }\n    },\n\n    onOpen() {\n      this.addCloseEventListeners();\n\n      classlist.add(this.triggerEl, \"has-dropdown-open\");\n\n      this.$emit(\"open\");\n    },\n\n    onClose() {\n      if (this.returnFocus && this.lastFocusedElement) {\n        this.lastFocusedElement.focus();\n      }\n\n      this.removeCloseEventListeners();\n\n      classlist.remove(this.triggerEl, \"has-dropdown-open\");\n\n      this.$emit(\"close\");\n\n      // Reset return focus\n      this.returnFocus = true;\n    },\n\n    onShown() {\n      this.lastFocusedElement = document.activeElement;\n      // this.$refs.focusContainer.focus();\n      this.$emit(\"reveal\");\n    },\n\n    onHidden() {\n      this.$emit(\"hide\");\n    },\n\n    closeOnExternal(event, closeOptions) {\n      if (!this.$el.contains(event.target)) {\n        this.close(closeOptions);\n      }\n    },\n\n    addCloseEventListeners() {\n      this.removeCloseEventListeners();\n\n      // Add event listeners in the next tick, otherwise they're triggered immediately\n      setTimeout(() => {\n        this.removeExternalClickListener = events.on(\"click\", document, e => {\n          this.closeOnExternal(e, { returnFocus: false });\n        });\n\n        this.removeEscListener = events.onKeydown(27, document, () => {\n          this.close({ returnFocus: true });\n        });\n\n        if (this.closeOnScroll) {\n          this.removeScrollListener = events.on(\"scroll\", document, e => {\n            this.closeOnExternal(e, { returnFocus: true });\n          });\n        }\n      }, 0);\n    },\n\n    removeCloseEventListeners() {\n      if (this.removeExternalClickListener) {\n        this.removeExternalClickListener();\n        this.removeExternalClickListener = null;\n      }\n\n      if (this.removeEscListener) {\n        this.removeEscListener();\n        this.removeEscListener = null;\n      }\n\n      if (this.removeScrollListener) {\n        this.removeScrollListener();\n        this.removeScrollListener = null;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/sass/imports.scss\";\n@import \"@/assets/sass/tippy/tippy.scss\";\n\n.ui-popover {\n  &.is-raised {\n    box-shadow: 0 2px 4px -1px rgba(black, 0.2), 0 4px 5px 0 rgba(black, 0.14),\n      0 1px 10px 0 rgba(black, 0.12);\n  }\n\n  .ui-menu {\n    border: none;\n  }\n}\n\n.ui-popover-theme {\n  background-color: white;\n}\n</style>\n"],"sourceRoot":"src/components"}]}